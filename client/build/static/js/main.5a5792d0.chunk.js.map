{"version":3,"sources":["App.js","index.js"],"names":["App","state","tasks","taskName","updataData","db","setState","removeTaskSocket","id","newState","filter","element","removeTask","e","idElement","target","getAttribute","socket","emit","taskNameOnChange","value","submitForm","preventDefault","uuidv4","addTask","name","task","this","io","on","taskId","className","map","taskid","onClick","onSubmit","autoComplete","type","placeholder","onChange","React","Component","ReactDOM","render","document","getElementById"],"mappings":"sOAsFeA,E,4MAjFbC,MAAQ,CACNC,MAAO,GACPC,SAAU,I,EAUZC,WAAa,SAACC,GACZ,EAAKC,SAAS,CAAEJ,MAAOG,K,EAGzBE,iBAAmB,SAACC,GAClB,IAAMC,EAAW,EAAKR,MAAMC,MAAMQ,QAAO,SAACC,GAAD,OAAaA,EAAQH,KAAOA,KACrE,EAAKF,SAAS,CAAEJ,MAAOO,K,EAGzBG,WAAa,SAACC,GACZ,IAAMC,EAAYD,EAAEE,OAAOC,aAAa,UAClCP,EAAW,EAAKR,MAAMC,MAAMQ,QAAO,SAACC,GAAD,OAAaA,EAAQH,KAAOM,KACrE,EAAKR,SAAS,CAAEJ,MAAOO,IACvB,EAAKQ,OAAOC,KAAK,aAAcJ,I,EAGjCK,iBAAmB,SAACN,GAClB,EAAKP,SAAS,CAAEH,SAAUU,EAAEE,OAAOK,S,EAGrCC,WAAa,SAACR,GACZA,EAAES,iBACF,IAAMd,EAAKe,eACX,EAAKC,QAAQhB,EAAI,EAAKP,MAAME,UAC5B,EAAKc,OAAOC,KAAK,UAAW,CAAEV,GAAIA,EAAIiB,KAAM,EAAKxB,MAAME,WACvD,EAAKG,SAAS,CAAEH,SAAU,M,EAG5BqB,QAAU,SAAChB,EAAIkB,GACb,EAAKpB,SAAS,CAAEJ,MAAM,GAAD,mBAAM,EAAKD,MAAMC,OAAjB,CAAwB,CAAEM,GAAIA,EAAIiB,KAAMC,Q,uDApC/D,WAAqB,IAAD,OAClBC,KAAKV,OAASW,YAAG,yBACjBD,KAAKV,OAAOY,GAAG,cAAc,SAACxB,GAAD,OAAQ,EAAKD,WAAWC,MACrDsB,KAAKV,OAAOY,GAAG,WAAW,SAACH,GAAD,OAAU,EAAKF,QAAQE,EAAKlB,GAAIkB,EAAKD,SAC/DE,KAAKV,OAAOY,GAAG,cAAc,SAACC,GAAD,OAAY,EAAKvB,iBAAiBuB,Q,oBAmCjE,WAAU,IAAD,OAEC5B,EAAUyB,KAAK1B,MAAfC,MAER,OACE,sBAAK6B,UAAU,MAAf,UAEE,iCACE,gDAGF,0BAASA,UAAU,gBAAgBvB,GAAG,gBAAtC,UACE,uCAEA,oBAAIuB,UAAU,sBAAsBvB,GAAG,aAAvC,SAEGN,EAAM8B,KAAI,SAACN,GAAD,OAET,qBAAkBK,UAAU,OAA5B,UACGL,EAAKD,KACN,wBAAQQ,OAAQP,EAAKlB,GAAI0B,QAAS,EAAKtB,WAAYmB,UAAU,eAA7D,sBAFOL,EAAKlB,SAQlB,uBAAMA,GAAG,gBAAgB2B,SAAUR,KAAKN,WAAxC,UACE,uBAAOU,UAAU,aAAaK,aAAa,MAAMC,KAAK,OAAOC,YAAY,wBAAwB9B,GAAG,YAAYY,MAAOO,KAAK1B,MAAME,SAAUoC,SAAUZ,KAAKR,mBAC3J,wBAAQY,UAAU,MAAMM,KAAK,SAA7B,8B,GAzEMG,IAAMC,WCCxBC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.5a5792d0.chunk.js","sourcesContent":["import React from 'react';\nimport io from 'socket.io-client';\nimport { v4 as uuidv4 } from 'uuid';\n\nclass App extends React.Component {\n  state = {\n    tasks: [],\n    taskName: '',\n  };\n\n  componentDidMount() {\n    this.socket = io('http://localhost:8000');\n    this.socket.on('updateData', (db) => this.updataData(db));\n    this.socket.on('addTask', (task) => this.addTask(task.id, task.name));\n    this.socket.on('removeTask', (taskId) => this.removeTaskSocket(taskId));\n  }\n\n  updataData = (db) => {\n    this.setState({ tasks: db });\n  }\n\n  removeTaskSocket = (id) => {\n    const newState = this.state.tasks.filter((element) => element.id !== id)\n    this.setState({ tasks: newState });\n  }\n\n  removeTask = (e) => {\n    const idElement = e.target.getAttribute('taskid');\n    const newState = this.state.tasks.filter((element) => element.id !== idElement)\n    this.setState({ tasks: newState });\n    this.socket.emit('removeTask', idElement);\n  }\n\n  taskNameOnChange = (e) => {\n    this.setState({ taskName: e.target.value });\n  }\n\n  submitForm = (e) => {\n    e.preventDefault();\n    const id = uuidv4();\n    this.addTask(id, this.state.taskName);\n    this.socket.emit('addTask', { id: id, name: this.state.taskName });\n    this.setState({ taskName: '' });\n  }\n\n  addTask = (id, task) => {\n    this.setState({ tasks: [...this.state.tasks, { id: id, name: task }] });\n  }\n\n  render() {\n\n    const { tasks } = this.state;\n\n    return (\n      <div className=\"App\">\n\n        <header>\n          <h1>ToDoList.app</h1>\n        </header>\n\n        <section className=\"tasks-section\" id=\"tasks-section\">\n          <h2>Tasks</h2>\n\n          <ul className=\"tasks-section__list\" id=\"tasks-list\">\n\n            {tasks.map((task) => (\n\n              <li key={task.id} className=\"task\">\n                {task.name}\n                <button taskid={task.id} onClick={this.removeTask} className=\"btn btn--red\">Remove</button>\n              </li>\n            ))}\n\n          </ul>\n\n          <form id=\"add-task-form\" onSubmit={this.submitForm}>\n            <input className=\"text-input\" autoComplete=\"off\" type=\"text\" placeholder=\"Type your description\" id=\"task-name\" value={this.state.taskName} onChange={this.taskNameOnChange} />\n            <button className=\"btn\" type=\"submit\">Add</button>\n          </form>\n\n        </section>\n      </div>\n    );\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}